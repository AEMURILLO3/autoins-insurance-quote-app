@prefix : <http://example.org/drivinglicence#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix insurance: <http://example.org/autoins#> .

# British Driving Licence Document Ontology
:DrivingLicenceDocument a rdfs:Class ;
    rdfs:label "British Driving Licence Document"@en ;
    rdfs:label "Britischer Führerschein"@de ;
    rdfs:comment "A British driving licence document with all extractable fields from front and back" .

# Driving Licence Fields - All available fields
:LicenceField a rdfs:Class ;
    rdfs:label "Driving Licence Field"@en ;
    rdfs:label "Führerscheinfeld"@de .

# Front of Licence Fields
:FrontSideField a :LicenceField ;
    rdfs:label "Front Side Field"@en ;
    rdfs:label "Vorderseitenfeld"@de ;
    rdfs:comment "Fields found on the front of the driving licence" ;
    insurance:side "front" .

# Personal Information Fields (Front of Licence)
:PersonalName a :FrontSideField ;
    rdfs:label "Personal Name"@en ;
    rdfs:label "Persönlicher Name"@de ;
    rdfs:comment "Full name as shown on driving licence" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.fullName" ;
    insurance:helpText "Full name as shown on your driving licence"@en ;
    insurance:helpText "Vollständiger Name wie im Führerschein angegeben"@de .

:GivenNames a :FrontSideField ;
    rdfs:label "Given Names"@en ;
    rdfs:label "Vornamen"@de ;
    rdfs:comment "First and middle names" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.firstName" ;
    insurance:helpText "Your first and middle names"@en ;
    insurance:helpText "Ihre Vor- und Zweitnamen"@de .

:Surname a :FrontSideField ;
    rdfs:label "Surname"@en ;
    rdfs:label "Nachname"@de ;
    rdfs:comment "Family name" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.lastName" ;
    insurance:helpText "Your family name"@en ;
    insurance:helpText "Ihr Familienname"@de .

:DateOfBirth a :FrontSideField ;
    rdfs:label "Date of Birth"@en ;
    rdfs:label "Geburtsdatum"@de ;
    rdfs:comment "Date of birth in YYYY-MM-DD format" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.dateOfBirth" ;
    insurance:helpText "Your date of birth"@en ;
    insurance:helpText "Ihr Geburtsdatum"@de .

:PlaceOfBirth a :FrontSideField ;
    rdfs:label "Place of Birth"@en ;
    rdfs:label "Geburtsort"@de ;
    rdfs:comment "City and country of birth" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.placeOfBirth" ;
    insurance:helpText "City and country where you were born"@en ;
    insurance:helpText "Stadt und Land, in dem Sie geboren wurden"@de .

# Driving Licence Information (Front of Licence)
:LicenceNumber a :FrontSideField ;
    rdfs:label "Driving Licence Number"@en ;
    rdfs:label "Führerscheinnummer"@de ;
    rdfs:comment "Unique driving licence identifier" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.licenceNumber" ;
    insurance:helpText "Your driving licence number"@en ;
    insurance:helpText "Ihre Führerscheinnummer"@de .

:DateOfIssue a :FrontSideField ;
    rdfs:label "Date of Issue"@en ;
    rdfs:label "Ausstellungsdatum"@de ;
    rdfs:comment "When driving licence was issued" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.licenceIssueDate" ;
    insurance:helpText "Date when your driving licence was issued"@en ;
    insurance:helpText "Datum, an dem Ihr Führerschein ausgestellt wurde"@de .

:DateOfExpiry a :FrontSideField ;
    rdfs:label "Date of Expiry"@en ;
    rdfs:label "Ablaufdatum"@de ;
    rdfs:comment "When driving licence expires" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.licenceExpiryDate" ;
    insurance:helpText "Date when your driving licence expires"@en ;
    insurance:helpText "Datum, an dem Ihr Führerschein abläuft"@de .

:Authority a :FrontSideField ;
    rdfs:label "Issuing Authority"@en ;
    rdfs:label "Ausstellende Behörde"@de ;
    rdfs:comment "Government authority that issued the licence" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.licenceAuthority" ;
    insurance:helpText "Government authority that issued your driving licence"@en ;
    insurance:helpText "Regierungsbehörde, die Ihren Führerschein ausgestellt hat"@de .

# Back of Licence Fields
:BackSideField a :LicenceField ;
    rdfs:label "Back Side Field"@en ;
    rdfs:label "Rückseitenfeld"@de ;
    rdfs:comment "Fields found on the back of the driving licence" ;
    insurance:side "back" .

# Entitlements (Back of Licence)
:CategoryA a :BackSideField ;
    rdfs:label "Category A - Motorcycles"@en ;
    rdfs:label "Kategorie A - Motorräder"@de ;
    rdfs:comment "Motorcycle entitlement" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.entitlementA" ;
    insurance:helpText "Motorcycle entitlement"@en ;
    insurance:helpText "Motorradberechtigung"@de .

:CategoryB a :BackSideField ;
    rdfs:label "Category B - Cars"@en ;
    rdfs:label "Kategorie B - Autos"@de ;
    rdfs:comment "Car entitlement" ;
    insurance:isRequiredForInsurance true ;
    insurance:mapsToField "driver.entitlementB" ;
    insurance:helpText "Car entitlement"@en ;
    insurance:helpText "Autoberechtigung"@de .

:CategoryC a :BackSideField ;
    rdfs:label "Category C - Large Vehicles"@en ;
    rdfs:label "Kategorie C - Große Fahrzeuge"@de ;
    rdfs:comment "Large vehicle entitlement" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.entitlementC" ;
    insurance:helpText "Large vehicle entitlement"@en ;
    insurance:helpText "Großfahrzeugberechtigung"@de .

:CategoryD a :BackSideField ;
    rdfs:label "Category D - Buses"@en ;
    rdfs:label "Kategorie D - Busse"@de ;
    rdfs:comment "Bus entitlement" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.entitlementD" ;
    insurance:helpText "Bus entitlement"@en ;
    insurance:helpText "Busberechtigung"@de .

:CategoryBE a :BackSideField ;
    rdfs:label "Category BE - Car + Trailer"@en ;
    rdfs:label "Kategorie BE - Auto + Anhänger"@de ;
    rdfs:comment "Car with trailer entitlement" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.entitlementBE" ;
    insurance:helpText "Car with trailer entitlement"@en ;
    insurance:helpText "Auto mit Anhänger Berechtigung"@de .

:CategoryCE a :BackSideField ;
    rdfs:label "Category CE - Large Vehicle + Trailer"@en ;
    rdfs:label "Kategorie CE - Großfahrzeug + Anhänger"@de ;
    rdfs:comment "Large vehicle with trailer entitlement" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.entitlementCE" ;
    insurance:helpText "Large vehicle with trailer entitlement"@en ;
    insurance:helpText "Großfahrzeug mit Anhänger Berechtigung"@de .

:CategoryDE a :LicenceField ;
    rdfs:label "Category DE - Bus + Trailer"@en ;
    rdfs:label "Kategorie DE - Bus + Anhänger"@de ;
    rdfs:comment "Bus with trailer entitlement" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.entitlementDE" ;
    insurance:helpText "Bus with trailer entitlement"@en ;
    insurance:helpText "Bus mit Anhänger Berechtigung"@de .

# Additional Information
:Restrictions a :LicenceField ;
    rdfs:label "Restrictions"@en ;
    rdfs:label "Einschränkungen"@de ;
    rdfs:comment "Any restrictions on the licence" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.licenceRestrictions" ;
    insurance:helpText "Any restrictions on your driving licence"@en ;
    insurance:helpText "Einschränkungen auf Ihrem Führerschein"@de .

:Endorsements a :LicenceField ;
    rdfs:label "Endorsements"@en ;
    rdfs:label "Eintragungen"@de ;
    rdfs:comment "Any endorsements on the licence" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.licenceEndorsements" ;
    insurance:helpText "Any endorsements on your driving licence"@en ;
    insurance:helpText "Eintragungen auf Ihrem Führerschein"@de .

:YearsHeld a :LicenceField ;
    rdfs:label "Years Licence Held"@en ;
    rdfs:label "Jahre Führerschein besessen"@de ;
    rdfs:comment "Number of years licence has been held" ;
    insurance:isRequiredForInsurance false ;
    insurance:mapsToField "driver.yearsHeld" ;
    insurance:helpText "Number of years you have held your licence"@en ;
    insurance:helpText "Anzahl der Jahre, in denen Sie Ihren Führerschein besessen haben"@de .

# Document Processing Information
:DocumentType a :LicenceField ;
    rdfs:label "Document Type"@en ;
    rdfs:label "Dokumenttyp"@de ;
    rdfs:comment "Type of document (e.g., Driving Licence, Provisional)" ;
    insurance:isRequiredForInsurance false ;
    insurance:helpText "Type of driving licence document"@en ;
    insurance:helpText "Art des Führerscheindokuments"@de .

:DocumentCountry a :LicenceField ;
    rdfs:label "Document Country"@en ;
    rdfs:label "Dokumentland"@de ;
    rdfs:comment "Country that issued the document" ;
    insurance:isRequiredForInsurance false ;
    insurance:helpText "Country that issued this driving licence"@en ;
    insurance:helpText "Land, das diesen Führerschein ausgestellt hat"@de .

# SHACL Shapes for Validation
:DrivingLicenceShape a sh:NodeShape ;
    sh:targetClass :DrivingLicenceDocument ;
    sh:property [
        sh:path :PersonalName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:message "Personal name is required"@en ;
        sh:message "Persönlicher Name ist erforderlich"@de
    ] ;
    sh:property [
        sh:path :DateOfBirth ;
        sh:datatype xsd:date ;
        sh:minCount 1 ;
        sh:message "Date of birth is required"@en ;
        sh:message "Geburtsdatum ist erforderlich"@de
    ] ;
    sh:property [
        sh:path :LicenceNumber ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:message "Driving licence number is required"@en ;
        sh:message "Führerscheinnummer ist erforderlich"@de
    ] ;
    sh:property [
        sh:path :DateOfExpiry ;
        sh:datatype xsd:date ;
        sh:minCount 1 ;
        sh:message "Expiry date is required"@en ;
        sh:message "Ablaufdatum ist erforderlich"@de
    ] .

# Document Processing Rules
:DocumentProcessingRule a rdfs:Class ;
    rdfs:label "Document Processing Rule"@en ;
    rdfs:label "Dokumentverarbeitungsregel"@de .

:DrivingLicenceProcessingRule a :DocumentProcessingRule ;
    rdfs:label "Driving Licence Processing Rule"@en ;
    rdfs:label "Führerscheinverarbeitungsregel"@de ;
    insurance:documentType "driving_licence" ;
    insurance:extractionMethod "OCR" ;
    insurance:confidenceThreshold 0.85 ;
    insurance:autoCreateDriver true ;
    insurance:matchByName true ;
    insurance:updateExistingFields true ;
    insurance:createNewDriverIfNotFound true ;
    insurance:processBothSides true ;
    insurance:frontSideFields "PersonalName,GivenNames,Surname,DateOfBirth,PlaceOfBirth,LicenceNumber,DateOfIssue,DateOfExpiry,Authority" ;
    insurance:backSideFields "CategoryA,CategoryB,CategoryC,CategoryD,CategoryBE,CategoryCE,CategoryDE,Restrictions,Endorsements,YearsHeld" .
